<ss-navbar [tituloInput]="titulo"></ss-navbar>

<ion-content padding>
	<div>
		<h2 [ngClass]="'resultado'"><span [ngClass]="'titulo'">Resultado</span>
			<span [ngClass]="'palavra-destacada'">concurso {{numeroDoConcurso | number:'3.'}} - {{dataDoSorteio}}</span>
		</h2>
	</div>

	<div *ngIf="exibeDezenasComQuebraDeLinha">
		<div class="dezenas-sorteadas">
			<button [attr.id]="'bt'+ dezena" ion-button round class="botao-da-matriz-dezenas" *ngFor="let dezena of dezenas; let iDezena = index" [ngClass]="['backgroundEscuro'+ sufixoCssLoteriaSelecionada]">
				{{dezena}}
			</button>
		</div>
	</div>

	<div *ngIf="!exibeDezenasComQuebraDeLinha && !exibeDezenasSorteio2DuplaSena">
		<button [attr.id]="'bt'+ dezena" ion-button round class="botao-da-matriz-dezenas" *ngFor="let dezena of dezenas; let iDezena = index" [ngClass]="['backgroundEscuro'+ sufixoCssLoteriaSelecionada]">
			{{dezena}}
		</button>

		<button ion-button icon-left clear *ngIf="exibeTimeDoCoracao" [ngClass]="['colorEscuro'+ sufixoCssLoteriaSelecionada]">
			<ion-icon class="coracao" name="heart"></ion-icon>
			<span class="time-coracao">{{timeDoCoracao}}</span>
		</button>

		<button ion-button icon-left clear *ngIf="exibeMesDaSorte" [ngClass]="['colorEscuro'+ sufixoCssLoteriaSelecionada]">
			<ion-icon class="coracao" name="calendar"></ion-icon>
			<span class="mes-sorte">{{mesDaSorte}}</span>
		</button>
	</div>

	<div *ngIf="exibeDezenasSorteio2DuplaSena">
		<p [ngClass]="'texto'"><strong>Sorteio 1</strong></p>
		<button [attr.id]="'bt'+ dezena" ion-button round class="botao-da-matriz-dezenas" *ngFor="let dezena of dezenas; let iDezena = index" [ngClass]="['backgroundEscuro'+ sufixoCssLoteriaSelecionada]">
			{{dezena}}
		</button>

		<p [ngClass]="'texto'"><strong>Sorteio 2</strong></p>
		<button [attr.id]="'bt'+ dezena" ion-button round class="botao-da-matriz-dezenas" *ngFor="let dezena of dezenasSorteio2; let iDezena = index" [ngClass]="['backgroundEscuro'+ sufixoCssLoteriaSelecionada]">
			{{dezena}}
		</button>
	</div>

	<p [ngClass]="'texto'" *ngIf="valorDoPremioPrincipal != 0">
		<span [ngClass]="'palavra-destacada'">{{valorDoPremioPrincipal | currency:'BRL':true}}</span> para <span [ngClass]="'palavra-destacada'">{{numeroDeGanhadoresDoPremioPrincipal}} ganhador<span *ngIf="numeroDeGanhadoresDoPremioPrincipal > 1">es</span></span>
	</p>

	<p [ngClass]="'texto'" *ngIf="valorDoPremioPrincipal == 0"><span [ngClass]="'palavra-destacada'">ACUMULOU! {{acumuladoParaOProximoConcurso | currency:'BRL':true}}</span></p>
	<p [ngClass]="'texto'"><strong>{{estimativaDePremioParaOProximoConcurso | currency:'BRL':true}}</strong> (Estimativa de prêmio para o próximo concurso)</p>
	<p [ngClass]="'texto'" *ngIf="exibeAcumuladoEspecial"><strong>{{acumuladoEspecial | currency:'BRL':true}}</strong> ({{labelAcumuladoEspecial}})</p>

	<ion-list>
		<ion-list-header color="cabecalho">
			<strong [ngClass]="'titulo'">Seletor de concursos</strong>
		</ion-list-header>

		<ion-item>
			<ion-range [min]="rgeFaixaDeConcursosMin" [max]="rgeFaixaDeConcursosMax" [(ngModel)]="rgeFaixaDeConcursos" (ionChange)="rgeFaixaDeConcursosAtualize($event)" color="primary" pin="true">
				<ion-label range-left class="label-botao-controle-altura">
					<button ion-button id="idDeslocarParaEsquerda" class="sem-margem largura-botao-controle" (click)="rgeDesloqueParaEsquerda()" ion-button icon-only clear>
						<ion-icon name="arrow-dropleft-circle"></ion-icon>
					</button>
				</ion-label>
				
				<ion-label range-right class="label-botao-controle-altura">
					<button ion-button id="idDeslocarParaEsquerda" class="sem-margem largura-botao-controle" (click)="rgeDesloqueParaDireita()" ion-button icon-only clear>
						<ion-icon name="arrow-dropright-circle"></ion-icon>
					</button>
				</ion-label>
			</ion-range>
		</ion-item>
	</ion-list>

	<div *ngFor="let sorteio of sorteios; let iSorteio = index">
		<ion-list>
			<ion-list-header color="cabecalho">
				<strong [ngClass]="'titulo'">Rateios <span *ngIf="exibeDezenasSorteio2DuplaSena">do sorteio {{iSorteio + 1}}</span></strong>
			</ion-list-header>
			
			<ion-item>
				<div class="container-tabela">
					<p-table [columns]="colsRateio" [value]="sorteio.rateios" [responsive]="true" [style]="{width:'500px'}">
						<ng-template pTemplate="header" let-colunas>
							<tr>
								<th *ngFor="let coluna of colunas">
									{{coluna.nome}}
								</th>
							</tr>
						</ng-template>
						<ng-template pTemplate="body" let-rowData let-colunas="columns">
							<tr>
								<td *ngFor="let coluna of colunas">
									<span *ngIf="coluna.campo !== 'rateio'">{{rowData[coluna.campo]}}</span>
									<span *ngIf="coluna.campo === 'rateio'">{{rowData[coluna.campo] | currency:'BRL':true}}</span>
								</td>
							</tr>
						</ng-template>
					</p-table>
					<div class="espaco_vertical"></div>
					<div *ngFor="let rateio of sorteio.rateios">
						<table *ngIf="rateio.qtdCidadesUfs.length > 0">
							<tr>
								<th colspan="3">Ganhadores do prêmio {{rateio.tipoDePremio}}</th>
							</tr>
							
							<tr>
								<th>Ganhadores</th>
								<th colspan="2">Cidades/UF</th>
							</tr>
								
							<tr *ngFor="let item of rateio.qtdCidadesUfs">
								<td>{{item.qtd}}</td>
								<td colspan="2">{{item.cidadeUf}}</td>
							</tr>
						</table>
					</div>
				</div>
			</ion-item>
		</ion-list>
	</div>

	<div *ngFor="let estatisticas of estatisticasDosSorteios; let iDezena = index">
		<ion-list>
			<ion-list-header color="cabecalho">
				<strong [ngClass]="'titulo'">Frequência total das dezenas <span *ngIf="exibeDezenasSorteio2DuplaSena">do sorteio {{iDezena + 1}}</span></strong>
			</ion-list-header>
			
			<ion-item>
				<div class="container-tabela">
					<p-table [columns]="colsEstatisticas" [value]="estatisticas" [paginator]="true" [rows]="15" [responsive]="true" sortField="dezena" [style]="{width:'500px'}">
						<ng-template pTemplate="header" let-colunas>
							<tr>
								<th *ngFor="let coluna of colunas" [pSortableColumn]="coluna.campo">
									{{coluna.nome}}
									<p-sortIcon [field]="coluna.campo"></p-sortIcon>
								</th>
							</tr>
						</ng-template>
						<ng-template pTemplate="body" let-rowData let-colunas="columns">
							<tr>
								<td *ngFor="let coluna of colunas">
									<span *ngIf="coluna.campo !== 'frequenciaTotalPorCento'">{{rowData[coluna.campo]}}</span>
									<span *ngIf="coluna.campo === 'frequenciaTotalPorCento'">{{rowData[coluna.campo] | number:'.2'}}%</span>
								</td>
							</tr>
						</ng-template>
					</p-table>
				</div>
			</ion-item>
		</ion-list>
	</div>
</ion-content>
<ss-rodape></ss-rodape>